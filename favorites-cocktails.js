import{r,l as d,b as k,d as u}from"./assets/mobile-menu-DDRovW51.js";import"./assets/vendor-Gv3iafvG.js";let t=JSON.parse(localStorage.getItem("favoriteCocktails"))||[];const o={cocktailList:document.querySelector(".js-favorite-cocktails-list"),titel:document.querySelector(".js-titel"),notFoundContainer:document.querySelector(".js-image-not-found-container"),backdrop:document.querySelector(".backdrop")};if(t.length===0)o.notFoundContainer.classList.remove("visually-hidden");else{const e=r(t);o.cocktailList.innerHTML=e}o.cocktailList.addEventListener("click",f);function f(e){if(!e.target.closest('[data-type="addLikeToFavorite"]'))return;console.log(e.target);const a=e.target.closest(".cocktails-list-item");if(!a||!(t!=null&&t.length))return;const c=a.dataset.id;console.log(c);const n=t.find(s=>s._id===c);n&&(a.remove(),t=t.filter(s=>s._id!==n._id),localStorage.setItem("favoriteCocktails",JSON.stringify(t)),t.length===0&&o.notFoundContainer.classList.remove("visually-hidden"))}//! --- OPEN MODAL ---
o.cocktailList.addEventListener("click",g);async function g(e){const i=e.target.closest('[data-type="learnMore"]');if(i){const a=i.closest(".cocktails-list-item");if(!a||!(t!=null&&t.length))return;const c=a.dataset.id,n=t.find(l=>l._id===c);if(!n)return;const s=await d(c);o.backdrop.innerHTML=k(s),o.backdrop.classList.remove("visually-hidden"),u(n,o.backdrop)}}//!одинакова модалка init-favorites.js i cocktails.js;
o.backdrop.addEventListener("click",function(e){const i=e.target.closest('[data-type="close-btn"]'),a=e.target===o.backdrop,c=e.target.closest('[data-type="backBtn"]');(i||a||c)&&o.backdrop.classList.add("visually-hidden")});
//# sourceMappingURL=favorites-cocktails.js.map
