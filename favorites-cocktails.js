import{r,l as d,b as k,d as u}from"./assets/mobile-menu-BWHXCWWr.js";import"./assets/vendor-Gv3iafvG.js";let t=JSON.parse(localStorage.getItem("favoriteCocktails"))||[];const e={cocktailList:document.querySelector(".js-cocktails-list"),titel:document.querySelector(".js-titel"),notFoundContainer:document.querySelector(".js-image-not-found-container"),backdrop:document.querySelector(".backdrop")};if(t.length===0)e.titel.textContent="Favorite cocktails",e.notFoundContainer.classList.remove("visually-hidden");else{const o=r(t);e.titel.textContent="Favorite cocktails",e.cocktailList.innerHTML=o}e.cocktailList.addEventListener("click",f);function f(o){if(!o.target.closest('[data-type="addLikeToFavorite"]'))return;console.log(o.target);const a=o.target.closest(".cocktails-list-item");if(!a||!(t!=null&&t.length))return;const i=a.dataset.id;console.log(i);const n=t.find(s=>s._id===i);n&&(a.remove(),t=t.filter(s=>s._id!==n._id),localStorage.setItem("favoriteCocktails",JSON.stringify(t)),t.length===0&&(e.titel.textContent="Favorite cocktails",e.notFoundContainer.classList.remove("visually-hidden")))}//! --- OPEN MODAL ---
e.cocktailList.addEventListener("click",g);async function g(o){const c=o.target.closest('[data-type="learnMore"]');if(c){const a=c.closest(".cocktails-list-item");if(!a||!(t!=null&&t.length))return;const i=a.dataset.id,n=t.find(l=>l._id===i);if(!n)return;const s=await d(i);e.backdrop.innerHTML=k(s),e.backdrop.classList.remove("visually-hidden"),u(n,e.backdrop)}}//!одинакова модалка init-favorites.js i cocktails.js;
e.backdrop.addEventListener("click",function(o){const c=o.target.closest('[data-type="close-btn"]'),a=o.target===e.backdrop,i=o.target.closest('[data-type="backBtn"]');(c||a||i)&&e.backdrop.classList.add("visually-hidden")});
//# sourceMappingURL=favorites-cocktails.js.map
